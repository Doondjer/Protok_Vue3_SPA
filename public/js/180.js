/*! For license information please see 180.js.LICENSE.txt */
"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[180],{6277:(t,e,n)=>{n.d(e,{Z:()=>i});var r=n(4015),o=n.n(r),a=n(3645),l=n.n(a)()(o());l.push([t.id,".bounce-enter-active{-webkit-animation:bounce-in .5s;animation:bounce-in .5s}.bounce-leave-active{animation:bounce-in .5s reverse}@-webkit-keyframes bounce-in{0%{transform:scale(0)}50%{transform:scale(1.25)}to{transform:scale(1)}}@keyframes bounce-in{0%{transform:scale(0)}50%{transform:scale(1.25)}to{transform:scale(1)}}","",{version:3,sources:["webpack://./resources/js/Pages/Dashboard/Index.vue"],names:[],mappings:"AAmJC,qBACI,+BAAyB,CAAzB,uBACJ,CACA,qBACI,+BACJ,CACA,6BACI,GACI,kBACJ,CACA,IACI,qBACJ,CACA,GACI,kBACJ,CACJ,CAVA,qBACI,GACI,kBACJ,CACA,IACI,qBACJ,CACA,GACI,kBACJ,CACJ",sourcesContent:['<template>\n    <div ref="root" class="fullscreen-wrapper" :class="{ \'page page-center\': fullscreen }">\n        <div class="container-xl panel-header">\n            <div class="page-header d-print-none">\n                <div class="row g-2 align-items-center">\n                    <div class="col">\n                        <h2 class="page-title">Kapaciteti Bagera - Panel</h2>\n                    </div>\n                    \x3c!-- Page title actions --\x3e\n                    <div class="col-12 col-md-auto ms-auto d-print-none">\n                        <div class="btn-list btn-group">\n                            <button class="btn btn-outline-danger disabled" type="button" v-if=" ! isModbus && ! show_modbus">\n                                <svg xmlns="http://www.w3.org/2000/svg" class="icon text-danger" aria-hidden="true" role="img" width="24" height="24" preserveAspectRatio="xMidYMid meet" viewBox="0 0 36 36">\n                                    <circle cx="18" cy="29.54" r="3" fill="currentColor" class="clr-i-solid clr-i-solid-path-1"/>\n                                    <path fill="currentColor" d="m29.18 17.71l.11-.17a1.51 1.51 0 0 0-.47-2.1A20.57 20.57 0 0 0 18 12.37c-.56 0-1.11 0-1.65.07l3.21 3.21a17.41 17.41 0 0 1 7.6 2.52a1.49 1.49 0 0 0 2.02-.46Z" class="clr-i-solid clr-i-solid-path-2"/>\n                                    <path fill="currentColor" d="M32.76 9.38a27.9 27.9 0 0 0-22.58-3.11l2.63 2.63a24.68 24.68 0 0 1 18.29 3.22a1.49 1.49 0 0 0 2-.46l.11-.17a1.51 1.51 0 0 0-.45-2.11Z" class="clr-i-solid clr-i-solid-path-3"/>\n                                    <path fill="currentColor" d="m3 4.75l3.1 3.1a27.28 27.28 0 0 0-2.92 1.57a1.51 1.51 0 0 0-.48 2.11l.11.17a1.49 1.49 0 0 0 2 .46a24.69 24.69 0 0 1 3.67-1.9l3.14 3.14a20.63 20.63 0 0 0-4.53 2.09a1.51 1.51 0 0 0-.46 2.1l.11.17a1.49 1.49 0 0 0 2 .46A17.46 17.46 0 0 1 14.25 16l3.6 3.6a13.39 13.39 0 0 0-6.79 1.93a1.5 1.5 0 0 0-.46 2.09l.1.16a1.52 1.52 0 0 0 2.06.44a10.2 10.2 0 0 1 9-.7L29 30.75l1.41-1.41l-26-26Z" class="clr-i-solid clr-i-solid-path-4"/>\n                                    <path fill="none" d="M0 0h36v36H0z"/>\n                                </svg>\n                                Modbus Greška\n                            </button>\n                            <button v-if="fullscreen && showExpand" type="button" class="btn expand-screen" @click="toggle">\n                                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-arrows-minimize" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">\n                                    <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>\n                                    <polyline points="5 9 9 9 9 5"></polyline>\n                                    <line x1="3" y1="3" x2="9" y2="9"></line>\n                                    <polyline points="5 15 9 15 9 19"></polyline>\n                                    <line x1="3" y1="21" x2="9" y2="15"></line>\n                                    <polyline points="19 9 15 9 15 5"></polyline>\n                                    <line x1="15" y1="9" x2="21" y2="3"></line>\n                                    <polyline points="19 15 15 15 15 19"></polyline>\n                                    <line x1="15" y1="15" x2="21" y2="21"></line>\n                                </svg>\n                                Skupi prikaz\n                            </button>\n                            <button v-if=" ! fullscreen && showExpand" type="button" class="btn expand-screen" @click="toggle">\n                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icon-tabler-arrows-maximize">\n                                    <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>\n                                    <polyline points="16 4 20 4 20 8"></polyline>\n                                    <line x1="14" y1="10" x2="20" y2="4"></line>\n                                    <polyline points="8 20 4 20 4 16"></polyline>\n                                    <line x1="4" y1="20" x2="10" y2="14"></line>\n                                    <polyline points="16 20 20 20 20 16"></polyline>\n                                    <line x1="14" y1="14" x2="20" y2="20"></line>\n                                    <polyline points="8 4 4 4 4 8"></polyline>\n                                    <line x1="4" y1="4" x2="10" y2="10"></line>\n                                </svg>\n                                Proširi prikaz\n                            </button>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <div class="page-body">\n            <div class="container-xxl">\n                <span class="row row-cards">\n                     <panel-item\n                        v-for="(resource, id) in rodents"\n                        :key="id"\n                        :update_chart="updateChart"\n                        :resource="resource"\n                        :current_flow="currentFlows[resource.id] ? currentFlows[resource.id] : 0"\n                        @show_graph="showExtendedGraph"\n                        @show_details="showDetails"\n                        :statuses="statuses[resource.id] ? statuses[resource.id] : [false,false,false,false,false,false,false,false]"\n                        :loading="next_rodent === resource.id"\n                    >\n                    </panel-item>\n                </span>\n            </div>\n        </div>\n        <large-chart v-if="show_graph" :rodent="rodents[show_graph]" @close_graph="show_graph = null"></large-chart>\n        <rodent-details v-if="show_details" :rodent="rodents[show_details].data" @close_details="show_details = null"></rodent-details> \n        <Transition name="bounce">\n            <modbus-status v-if=" ! isModbus && show_modbus" @close_modbus="show_modbus = null"></modbus-status>\n        </Transition>\n    </div>\n</template>\n\n<script setup>\n\n\timport ModbusStatus from "@/Shared/ModbusStatus";\n\timport PanelItem from "@/Shared/PanelItem";\n    import RodentDetails from "@/Shared/RodentDetails";\n    import LargeChart from "@/Shared/ExtendedChart";\n\timport { provide, ref, reactive, computed } from "vue";\n  \timport { api as fullscreen } from \'vue-fullscreen\';\n\n\tlet props = defineProps({\n\t\t\t\t\trodents: Object,\n\t\t\t\t\tpanelFlows: Object,\n\t\t\t\t\tgraphData: Object,\n\t\t\t\t\tcurrentFlows: Object,\n\t\t\t\t\tstatuses: Object,\n\t\t\t\t});\n\n\tlet show_graph = ref(null);\n    let show_details = ref(null);\n    const root = ref();\n    let currentFlows = {};\n    let statuses = {};\n    let isModbus = true;\n    let show_modbus = ref(true);\n    let next_rodent = null;\n\n    let showExtendedGraph = ({station}) => {\n\n       show_graph.value = station;\n    };\n\n    let showDetails = ({station}) => {\n       show_details.value = station;\n    };\n\n    let showExpand = computed(() => {\n    \treturn screen.height >= 864;\n    })\n\n    let updateChart = reactive({\n    \tdata: {\n                graphData: props.graphData,\n                panelFlows: props.panelFlows,\n            }\n    });\n\n    const state = reactive({\n        fullscreen: false,\n        teleport: true,\n      })\n    \n \tasync function toggle () {\n        await fullscreen.toggle(root.value.querySelector(\'.fullscreen-wrapper\'), {\n          teleport: state.teleport,\n          callback: (isFullscreen) => {\n            // state.fullscreen = isFullscreen\n          },\n        })\n        state.fullscreen = fullscreen.isFullscreen\n      }\n\n  \tprovide(\'update_chart\', updateChart)\n\n<\/script>\n\n\n<style>\n\t.bounce-enter-active {\n\t    animation: bounce-in 0.5s;\n\t}\n\t.bounce-leave-active {\n\t    animation: bounce-in 0.5s reverse;\n\t}\n\t@keyframes bounce-in {\n\t    0% {\n\t        transform: scale(0);\n\t    }\n\t    50% {\n\t        transform: scale(1.25);\n\t    }\n\t    100% {\n\t        transform: scale(1);\n\t    }\n\t}\n</style>'],sourceRoot:""}]);const i=l},1180:(t,e,n)=>{n.r(e),n.d(e,{default:()=>cn});var r=n(6252),o=n(3577),a=n(2262),l=n(9963),i={class:"modal modal-blur bg-white-overlay fade show",id:"modbus_modal",tabindex:"-1",style:{display:"block"},"aria-modal":"true",role:"dialog"},s={class:"modal-dialog modal-sm modal-dialog-centered",role:"document"},c={class:"modal-content"},d=(0,r._)("div",{class:"modal-status bg-danger"},null,-1),u=(0,r._)("div",{class:"modal-body text-center py-4"},[(0,r._)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon mb-2 text-danger icon-lg","aria-hidden":"true",role:"img",width:"24",height:"24",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 36 36"},[(0,r._)("circle",{cx:"18",cy:"29.54",r:"3",fill:"currentColor",class:"clr-i-solid clr-i-solid-path-1"}),(0,r._)("path",{fill:"currentColor",d:"m29.18 17.71l.11-.17a1.51 1.51 0 0 0-.47-2.1A20.57 20.57 0 0 0 18 12.37c-.56 0-1.11 0-1.65.07l3.21 3.21a17.41 17.41 0 0 1 7.6 2.52a1.49 1.49 0 0 0 2.02-.46Z",class:"clr-i-solid clr-i-solid-path-2"}),(0,r._)("path",{fill:"currentColor",d:"M32.76 9.38a27.9 27.9 0 0 0-22.58-3.11l2.63 2.63a24.68 24.68 0 0 1 18.29 3.22a1.49 1.49 0 0 0 2-.46l.11-.17a1.51 1.51 0 0 0-.45-2.11Z",class:"clr-i-solid clr-i-solid-path-3"}),(0,r._)("path",{fill:"currentColor",d:"m3 4.75l3.1 3.1a27.28 27.28 0 0 0-2.92 1.57a1.51 1.51 0 0 0-.48 2.11l.11.17a1.49 1.49 0 0 0 2 .46a24.69 24.69 0 0 1 3.67-1.9l3.14 3.14a20.63 20.63 0 0 0-4.53 2.09a1.51 1.51 0 0 0-.46 2.1l.11.17a1.49 1.49 0 0 0 2 .46A17.46 17.46 0 0 1 14.25 16l3.6 3.6a13.39 13.39 0 0 0-6.79 1.93a1.5 1.5 0 0 0-.46 2.09l.1.16a1.52 1.52 0 0 0 2.06.44a10.2 10.2 0 0 1 9-.7L29 30.75l1.41-1.41l-26-26Z",class:"clr-i-solid clr-i-solid-path-4"}),(0,r._)("path",{fill:"none",d:"M0 0h36v36H0z"})]),(0,r._)("h3",null,"Nema Modbus komunikacije"),(0,r._)("div",{class:"text-muted"},"Preko modbus komunikacije dobijamo podatke o protocima bagera. Trudićemo se da brzo rešimo kvar.")],-1),p={class:"modal-footer"},h={class:"w-100"},f={class:"row"};var m=n(3744);const v={},g=(0,m.Z)(v,[["render",function(t,e){return(0,r.wg)(),(0,r.iD)("div",i,[(0,r._)("div",s,[(0,r._)("div",c,[(0,r._)("button",{type:"button",onClick:e[0]||(e[0]=(0,l.iM)((function(e){return t.$emit("close_modbus")}),["prevent"])),class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"}),d,u,(0,r._)("div",p,[(0,r._)("div",h,[(0,r._)("div",f,[(0,r._)("a",{href:"#",onClick:e[1]||(e[1]=(0,l.iM)((function(e){return t.$emit("close_modbus")}),["prevent"])),class:"btn btn-danger w-100","data-bs-dismiss":"modal"}," Ok ")])])])])])])}]]);var w=n(4489),y=n.n(w),_={class:"bar-container"};const b={__name:"PanelItemChart",props:{resource_id:Number,total_flow:Object},setup:function(t){var e=t,n=(0,r.f3)("update_chart"),o=[{x:"I Smena",y:0},{x:"II Smena",y:0},{x:"III Smena",y:0}],l=(0,a.qj)({colors:["#00a651"],chart:{type:"bar"},plotOptions:{bar:{horizontal:!1,borderRadius:10,columnWidth:"65%",endingShape:"rounded"}},dataLabels:{enabled:!0,formatter:function(t){return t+"m3"}},tooltip:{y:{formatter:function(t){return t+" m3"}}}}),i=(0,r.Fl)((function(){if(screen.height<864)return"auto";var t=20;return screen.height>=1050&&(t=30),"".concat(screen.height/5-t,"px")})),s=function(t){var e=[];return t&&"undefined"!==t?t.map((function(t,n){e.push({x:o[t.shift-1].x,y:t.shift_flow?t.shift_flow:0})})):e=o,e},c=(0,a.qj)([{name:"Iskopano",data:s()}]);return(0,r.YP)(n.data.graphData,(function(t,n){t&&t[e.resource_id]&&Object.assign(c[0].data,s(JSON.parse(JSON.stringify(t[e.resource_id]))))}),{immediate:!0,deep:!0}),(0,r.YP)(n.data.panelFlows,(function(t,n){var r=0;t&&t[e.resource_id]&&(console.log(JSON.parse(JSON.stringify(t[e.resource_id]))),JSON.parse(JSON.stringify(t[e.resource_id])).map((function(t){r+=t.total_flow}))),Object.assign(l,{title:{text:"Iskopano od 07:00 : ".concat(r.toFixed(1)," m3"),style:{color:"rgba(255, 255, 255, 0.7)"}}})}),{immediate:!0,deep:!0}),function(t,e){return(0,r.wg)(),(0,r.iD)("div",_,[(0,r.Wm)((0,a.SU)(y()),{ref:"chart",options:(0,a.SU)(l),series:(0,a.SU)(c),height:(0,a.SU)(i)},null,8,["options","series","height"])])}}};var x={class:"col-sm-12 col-md-6 col-lg-4"},k=["title"],C={class:"pt-2"},S={class:"d-flex px-3"},U=[(0,r._)("span",{class:"status-indicator-circle"},null,-1),(0,r._)("span",{class:"status-indicator-circle"},null,-1),(0,r._)("span",{class:"status-indicator-circle"},null,-1)],j=["textContent"],D={class:"ms-2 mt-1"},M=[(0,r.uE)('<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><line x1="12" y1="8" x2="12.01" y2="8"></line><rect x="4" y="4" width="16" height="16" rx="2"></rect><polyline points="11 12 12 12 12 16 13 16"></polyline></svg>',1)],A={class:"ms-auto mt-2"},O=[(0,r.uE)('<svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-device-analytics" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><rect x="3" y="4" width="18" height="12" rx="1"></rect><line x1="7" y1="20" x2="17" y2="20"></line><line x1="9" y1="16" x2="9" y2="20"></line><line x1="15" y1="16" x2="15" y2="20"></line><path d="M8 12l3 -3l2 2l3 -3"></path></svg> Detaljnije ',2)],z=(0,r._)("div",{class:"d-flex align-items-center"},[(0,r._)("div",{class:"subheader"},"Trenutni Protok")],-1),P={class:"d-flex align-items-center"},E=[(0,r.uE)('<svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-currency-ripple" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><circle cx="7" cy="12" r="3"></circle><circle cx="17" cy="7" r="3"></circle><circle cx="17" cy="17" r="3"></circle><path d="M10 12h3l2 -2.5"></path><path d="M15 14.5l-2 -2.5"></path></svg>',1)],L=["textContent"],q={key:0,class:"me-auto text-green spinner-border"},B={key:1,class:"me-auto"},H={key:0,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},I=[(0,r._)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"},null,-1),(0,r._)("polyline",{points:"7 7 12 12 17 7"},null,-1),(0,r._)("polyline",{points:"7 13 12 18 17 13"},null,-1)],F={key:2,class:"me-auto"},G=[(0,r._)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"","aria-hidden":"true",role:"img",width:"24",height:"24",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 36 36"},[(0,r._)("circle",{cx:"18",cy:"29.54",r:"3",fill:"currentColor",class:"clr-i-solid clr-i-solid-path-1"}),(0,r._)("path",{fill:"currentColor",d:"m29.18 17.71l.11-.17a1.51 1.51 0 0 0-.47-2.1A20.57 20.57 0 0 0 18 12.37c-.56 0-1.11 0-1.65.07l3.21 3.21a17.41 17.41 0 0 1 7.6 2.52a1.49 1.49 0 0 0 2.02-.46Z",class:"clr-i-solid clr-i-solid-path-2"}),(0,r._)("path",{fill:"currentColor",d:"M32.76 9.38a27.9 27.9 0 0 0-22.58-3.11l2.63 2.63a24.68 24.68 0 0 1 18.29 3.22a1.49 1.49 0 0 0 2-.46l.11-.17a1.51 1.51 0 0 0-.45-2.11Z",class:"clr-i-solid clr-i-solid-path-3"}),(0,r._)("path",{fill:"currentColor",d:"m3 4.75l3.1 3.1a27.28 27.28 0 0 0-2.92 1.57a1.51 1.51 0 0 0-.48 2.11l.11.17a1.49 1.49 0 0 0 2 .46a24.69 24.69 0 0 1 3.67-1.9l3.14 3.14a20.63 20.63 0 0 0-4.53 2.09a1.51 1.51 0 0 0-.46 2.1l.11.17a1.49 1.49 0 0 0 2 .46A17.46 17.46 0 0 1 14.25 16l3.6 3.6a13.39 13.39 0 0 0-6.79 1.93a1.5 1.5 0 0 0-.46 2.09l.1.16a1.52 1.52 0 0 0 2.06.44a10.2 10.2 0 0 1 9-.7L29 30.75l1.41-1.41l-26-26Z",class:"clr-i-solid clr-i-solid-path-4"}),(0,r._)("path",{fill:"none",d:"M0 0h36v36H0z"})],-1)],T={key:0,class:"row m-0"},N=["textContent"],J=["textContent"],Z=(0,r._)("div",{class:"w-100"},null,-1),R=["textContent"],V=["textContent"];const Y={__name:"PanelItem",props:{current_flow:Number,resource:Object,statuses:Object,loading:Boolean},setup:function(t){var e=this,n=t,i=((0,a.iH)(!1),(0,a.iH)(!1)),s=(0,a.iH)(!0),c=function(){e.show_status=!e.show_status},d=(0,r.Fl)((function(){return n.statuses.reduce((function(t,e){return t||e}),!1)}));return function(e,n){return(0,r.wg)(),(0,r.iD)("div",x,[(0,r._)("div",{class:"card",title:t.resource.data.name},[(0,r._)("div",{class:(0,o.C_)(["card-status-top",(0,a.SU)(d)?"bg-success":"bg-danger"])},null,2),(0,r._)("div",C,[(0,r._)("div",S,[(0,r._)("span",{class:(0,o.C_)(["status-indicator",(0,a.SU)(d)?"status-green status-indicator-animated":"status-red"])},U,2),(0,r._)("h3",{class:"ms-2 mt-2 text-nowrap",textContent:(0,o.zw)(t.resource.data.name)},null,8,j),(0,r._)("div",D,[(0,r._)("a",{href:"#",class:"text-info bg-green-lt",onClick:n[0]||(n[0]=(0,l.iM)((function(n){return e.$emit("show_details",{station:t.resource.data.id})}),["prevent"])),"aria-label":"Prikaži Detalje"},M)]),(0,r._)("div",A,[(0,r._)("a",{class:"btn w-100",onClick:n[1]||(n[1]=(0,l.iM)((function(n){return e.$emit("show_graph",{station:t.resource.data.id})}),["prevent"])),href:"#"},O)])]),(0,r.Wm)((0,a.SU)(b),{resource_id:t.resource.data.id},null,8,["resource_id"])]),(0,r._)("div",{class:(0,o.C_)(["card-footer pt-1 pb-1",{"bg-red-lt":!(0,a.SU)(d)}])},[z,(0,r._)("div",P,[(0,r._)("div",{class:(0,o.C_)(["col-auto",{"spinner-border text-success":(0,a.SU)(d)&&t.statuses[7],"text-success":(0,a.SU)(d)&&!t.statuses[7],"text-danger":!(0,a.SU)(d)}])},E,2),(0,r._)("div",{class:"h1 mb-0 ms-3 col",textContent:(0,o.zw)("".concat(t.current_flow," m3/h"))},null,8,L),t.loading?((0,r.wg)(),(0,r.iD)("div",q)):(0,r.kq)("",!0),!t.loading&&(0,a.SU)(d)?((0,r.wg)(),(0,r.iD)("div",B,[(0,r._)("a",{href:"#",onClick:n[2]||(n[2]=(0,l.iM)((function(){return(0,a.SU)(c)&&(0,a.SU)(c).apply(void 0,arguments)}),["prevent"])),class:(0,o.C_)(["d-inline-flex align-items-center lh-1",(0,a.SU)(d)?"text-success":"text-danger"])},[e.$page.props.auth.user&&e.$page.props.auth.user.is.admin?((0,r.wg)(),(0,r.iD)("svg",H,I)):(0,r.kq)("",!0)],2)])):(0,r.kq)("",!0),t.loading||(0,a.SU)(s)||(0,a.SU)(d)?(0,r.kq)("",!0):((0,r.wg)(),(0,r.iD)("div",F,G))])],2),(0,a.SU)(i)?((0,r.wg)(),(0,r.iD)("div",T,[(0,r._)("div",{class:(0,o.C_)(["col text-center border",{"bg-success-lt border-success":t.statuses[6]}]),textContent:(0,o.zw)(t.statuses[6]?"24VDC OK":"24VDC")},null,10,N),(0,r._)("div",{class:(0,o.C_)(["col text-center border",{"bg-success-lt border-success":t.statuses[7]}]),textContent:(0,o.zw)(t.statuses[7]?"Radi":"Ne radi")},null,10,J),(0,r._)("div",{class:(0,o.C_)(["col text-center border",{"bg-success-lt border-success":t.statuses[5]}])},"Kalibracija",2),Z,(0,r._)("div",{class:(0,o.C_)(["col text-center border",{"bg-success-lt border-success":t.statuses[4]}]),textContent:(0,o.zw)(t.statuses[4]?"UPS 24V OK":"UPS 24V")},null,10,R),(0,r._)("div",{class:(0,o.C_)(["col text-center border",{"bg-danger-lt border-danger":t.statuses[3]}])},"Ups Alarm",2),(0,r._)("div",{class:(0,o.C_)(["col text-center border",{"bg-success-lt border-success":t.statuses[2]}]),textContent:(0,o.zw)(t.statuses[2]?"UPS Bat OK":"UPS Bat")},null,10,V)])):(0,r.kq)("",!0)],8,k)])}}};var K={class:"modal modal-blur fade show bg-white-overlay",id:"modal-details",tabindex:"-1",style:{display:"block"},"aria-modal":"true",role:"dialog"},W={class:"modal-dialog modal-lg modal-dialog-centered",role:"document"},$={class:"modal-content"},X={class:"modal-header"},Q=["textContent"],tt=["src"],et={class:"modal-body"},nt=(0,r._)("div",{class:"mb-3"},[(0,r._)("label",{class:"form-label strong"},"Tehničke Karakteristike")],-1),rt={class:"row g-3"},ot={key:0,class:"col-6 row text-truncate align-items-center d-flex justify-content-between"},at=(0,r._)("label",{class:"text-reset d-block col-auto"},"Tip Bagera:",-1),lt=["textContent"],it={class:"col-6 row text-truncate align-items-center d-flex justify-content-between mt-2"},st=["textContent"],ct=["textContent"];const dt={__name:"RodentDetails",props:{rodent:Object},setup:function(t){return function(e,n){return(0,r.wg)(),(0,r.iD)("div",K,[(0,r._)("div",W,[(0,r._)("div",$,[(0,r._)("div",X,[(0,r._)("h5",{class:"modal-title",textContent:(0,o.zw)("".concat(t.rodent.name," ").concat(t.rodent.rodent_type.type?t.rodent.rodent_type.type:""))},null,8,Q),(0,r._)("button",{type:"button",onClick:n[0]||(n[0]=function(t){return e.$emit("close_details")}),class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]),(0,r._)("img",{src:t.rodent.rodent_type.image,class:"card-img-top"},null,8,tt),(0,r._)("div",et,[nt,(0,r._)("div",rt,[t.rodent.rodent_type.type?((0,r.wg)(),(0,r.iD)("div",ot,[at,(0,r._)("div",{class:"d-block text-muted text-truncate col-auto",textContent:(0,o.zw)(t.rodent.rodent_type.type)},null,8,lt)])):(0,r.kq)("",!0),((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(t.rodent.rodent_type.attributes,(function(t){return(0,r.wg)(),(0,r.iD)("div",it,[(0,r._)("label",{class:"text-reset d-block col-auto",textContent:(0,o.zw)(t.name)},null,8,st),(0,r._)("div",{class:"d-block text-muted text-truncate col-auto",textContent:(0,o.zw)("".concat(t.value," ").concat(t.unit))},null,8,ct)])})),256))])])])])])}}};var ut=n(6455),pt=n.n(ut),ht={class:"card-footer d-flex align-items-center"},ft={class:"m-0 text-muted"},mt=(0,r.Uk)(" Prikazano "),vt=["textContent"],gt=(0,r.Uk)(" do "),wt=["textContent"],yt=(0,r.Uk)(" od "),_t=["textContent"],bt=(0,r.Uk)(" stavki "),xt={key:0,class:"pagination m-0 ms-auto"},kt=["onClick","aria-disabled"],Ct=["innerHTML"];const St={__name:"Paginator",props:{dataSet:{type:Object,default:{}},form:Object},emits:["page_changed"],setup:function(t,e){var n=e.emit,i=t,s=(0,r.Fl)((function(){return i.dataSet.links})),c=(0,r.Fl)((function(){return i.dataSet.per_page<i.dataSet.total})),d=function(t){t=new URL(t),i.form.page=new URLSearchParams(t.search).get("page"),n("page_changed")};return function(e,n){return(0,r.wg)(),(0,r.iD)("div",ht,[(0,r._)("p",ft,[mt,(0,r._)("span",{textContent:(0,o.zw)(t.dataSet.from)},null,8,vt),gt,(0,r._)("span",{textContent:(0,o.zw)(t.dataSet.to)},null,8,wt),yt,(0,r._)("span",{textContent:(0,o.zw)(t.dataSet.total)},null,8,_t),bt]),(0,a.SU)(c)?((0,r.wg)(),(0,r.iD)("ul",xt,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)((0,a.SU)(s),(function(t){return(0,r.wg)(),(0,r.iD)("li",{class:(0,o.C_)(["page-item",{active:t.active,disabled:!t.url}])},[(0,r._)("a",{href:"#",onClick:(0,l.iM)((function(e){return(0,a.SU)(d)(t.url)}),["prevent"]),tabindex:"-1","aria-disabled":t.url?"false":"true",class:"page-link"},[(0,r._)("span",{innerHTML:t.label},null,8,Ct)],8,kt)],2)})),256))])):(0,r.kq)("",!0)])}}};var Ut={class:"row"},jt={class:"col"},Dt=(0,r._)("span",{class:"btn"},[(0,r._)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"link-secondary",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},[(0,r._)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,r._)("rect",{x:"4",y:"5",width:"16",height:"16",rx:"2"}),(0,r._)("line",{x1:"16",y1:"3",x2:"16",y2:"7"}),(0,r._)("line",{x1:"8",y1:"3",x2:"8",y2:"7"}),(0,r._)("line",{x1:"4",y1:"11",x2:"20",y2:"11"}),(0,r._)("line",{x1:"11",y1:"15",x2:"12",y2:"15"}),(0,r._)("line",{x1:"12",y1:"15",x2:"12",y2:"18"})])],-1),Mt=["value"],At=["textContent"],Ot={class:"col"},zt=(0,r._)("span",{class:"btn"},[(0,r._)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"link-secondary",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},[(0,r._)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,r._)("rect",{x:"4",y:"5",width:"16",height:"16",rx:"2"}),(0,r._)("line",{x1:"16",y1:"3",x2:"16",y2:"7"}),(0,r._)("line",{x1:"8",y1:"3",x2:"8",y2:"7"}),(0,r._)("line",{x1:"4",y1:"11",x2:"20",y2:"11"}),(0,r._)("line",{x1:"11",y1:"15",x2:"12",y2:"15"}),(0,r._)("line",{x1:"12",y1:"15",x2:"12",y2:"18"})])],-1),Pt=["value"],Et=["textContent"],Lt={class:"col"},qt=["disable"];var Bt=n(1763);n(1994);function Ht(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}const It=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.errors={}}var e,n,r;return e=t,(n=[{key:"has",value:function(t){return this.errors.hasOwnProperty(t)}},{key:"get",value:function(t){if(this.errors[t])return this.errors[t][0]}},{key:"record",value:function(t){this.errors=t.errors}},{key:"any",value:function(){return Object.keys(this.errors).length>0}},{key:"clear",value:function(t){t?delete this.errors[t]:this.errors={}}},{key:"clearAll",value:function(){this.errors={}}}])&&Ht(e.prototype,n),r&&Ht(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}(),Ft={name:"DatePicker.vue",props:["station"],data:function(){return{form:{rodent_id:this.station.id,date_start:"",date_end:new Date},modelConfig:{type:"string"},errors:new It}},components:{DatePicker:Bt.Mt},methods:{exportXls:function(){var t=this;axios.post("/export",this.form,{responseType:"arraybuffer"}).then((function(e){var n=window.URL.createObjectURL(new Blob([e.data])),r=document.createElement("a");r.href=n,r.setAttribute("download","protok_".concat(t.station.slug,".xlsx")),document.body.appendChild(r),r.click()})).catch(this.onError)},onError:function(t){var e=String.fromCharCode.apply(null,new Uint8Array(t.response.data));this.errors.record(JSON.parse(e))}}},Gt=(0,m.Z)(Ft,[["render",function(t,e,n,a,i,s){var c=(0,r.up)("DatePicker",!0);return(0,r.wg)(),(0,r.iD)("div",Ut,[(0,r._)("div",jt,[(0,r.Wm)(c,{modelValue:i.form.date_start,"onUpdate:modelValue":e[0]||(e[0]=function(t){return i.form.date_start=t}),mode:"datetime","model-config":i.modelConfig,class:(0,o.C_)(["input-group",{"is-invalid":i.errors.has("date_start")}]),"max-date":new Date,timezone:"UTC"},{default:(0,r.w5)((function(t){var e=t.inputValue,n=t.inputEvents;return[Dt,(0,r._)("input",(0,r.dG)({id:"date_start",class:"form-control",placeholder:"DD-MM-GGGG",value:e},(0,r.mx)(n),{class:{"is-invalid":i.errors.has("date_start")}}),null,16,Mt)]})),_:1},8,["modelValue","model-config","max-date","class"]),i.errors.has("date_start")?((0,r.wg)(),(0,r.iD)("div",{key:0,class:"invalid-feedback",textContent:(0,o.zw)(i.errors.get("date_start"))},null,8,At)):(0,r.kq)("",!0)]),(0,r._)("div",Ot,[(0,r.Wm)(c,{modelValue:i.form.date_end,"onUpdate:modelValue":e[1]||(e[1]=function(t){return i.form.date_end=t}),mode:"datetime","model-config":i.modelConfig,class:(0,o.C_)(["input-group",{"is-invalid":i.errors.has("date_end")}]),"max-date":new Date,timezone:"UTC"},{default:(0,r.w5)((function(t){var e=t.inputValue,n=t.inputEvents;return[zt,(0,r._)("input",(0,r.dG)({id:"date_end",class:"form-control",placeholder:"DD-MM-GGGG",value:e},(0,r.mx)(n),{class:{"is-invalid":i.errors.has("date_end")}}),null,16,Pt)]})),_:1},8,["modelValue","model-config","max-date","class"]),i.errors.has("date_end")?((0,r.wg)(),(0,r.iD)("div",{key:0,class:"invalid-feedback",textContent:(0,o.zw)(i.errors.get("date_end"))},null,8,Et)):(0,r.kq)("",!0)]),(0,r._)("div",Lt,[(0,r._)("button",{onClick:e[2]||(e[2]=(0,l.iM)((function(){return s.exportXls&&s.exportXls.apply(s,arguments)}),["prevent"])),disable:!i.form.date_start||!i.form.date_end,class:"btn btn-success"},"Eksportuj",8,qt)])])}]]);var Tt={class:"container-xl"},Nt={class:"row row-cards"},Jt={class:"col-12"},Zt={class:"card"},Rt={class:"card-header"},Vt=["textContent"],Yt={class:"card-body border-bottom py-3 container"},Kt={class:"d-flex"},Wt={class:"text-muted"},$t=(0,r.Uk)(" Prikaži "),Xt={class:"mx-2 d-inline-block"},Qt=(0,r.Uk)(" recorda "),te={class:"ms-auto text-muted"},ee=[(0,r._)("svg",{class:"icon icon-tabler icon-tabler-file-export",fill:"none",height:"24",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},[(0,r._)("path",{d:"M0 0h24v24H0z",fill:"none",stroke:"none"}),(0,r._)("path",{d:"M14 3v4a1 1 0 0 0 1 1h4"}),(0,r._)("path",{d:"M11.5 21h-4.5a2 2 0 0 1 -2 -2v-14a2 2 0 0 1 2 -2h7l5 5v5m-5 6h7m-3 -3l3 3l-3 3"})],-1),(0,r.Uk)(" Export ")],ne={class:"table-responsive"},re={class:"table card-table table-vcenter text-nowrap datatable"},oe=(0,r._)("thead",null,[(0,r._)("tr",null,[(0,r._)("th",{class:"w-1"}),(0,r._)("th",null,"ID"),(0,r._)("th",null,"Naziv Bagera"),(0,r._)("th",null,"Protok 15-min [m3/h]"),(0,r._)("th",null,"Smena"),(0,r._)("th",{class:"w-1"},"Datum / Vreme")])],-1),ae={key:0},le=(0,r._)("td",null,[(0,r._)("input",{"aria-label":"Odaberi Zapis",class:"form-check-input m-0 align-middle",type:"checkbox"})],-1),ie=["textContent"],se={class:"td-truncate"},ce=["textContent"],de=["textContent"],ue=["textContent"],pe=["textContent"],he={key:1},fe={colspan:"5"},me={key:0,class:"empty"},ve=[(0,r._)("div",{class:"spinner-border icon-lg text-green"},null,-1)],ge={key:1,class:"empty"},we=[(0,r.uE)('<div class="empty-icon"><svg class="icon" fill="none" height="24" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none" stroke="none"></path><circle cx="12" cy="12" r="9"></circle><line x1="9" x2="9.01" y1="10" y2="10"></line><line x1="15" x2="15.01" y1="10" y2="10"></line><path d="M9.5 15.25a3.5 3.5 0 0 1 5 0"></path></svg></div><p class="empty-title">Ništa nije pronađeno!</p><p class="empty-subtitle text-muted"> Pokušaj sa drugim bagerom ili kontaktiraj administratore. </p>',3)];const ye={__name:"FlowTable",props:{rodent:Object},setup:function(t){var e=t,n=(0,a.qj)({}),i=(0,a.qj)([]),s=(0,a.qj)({rodent:e.rodent.data.id,per_page:10,page:1}),c=(0,a.iH)(!1),d=(0,a.iH)(!0),u=function(){axios.get("/table/station",{params:s}).then(p).catch((function(t){console.dir(t),pt().fire("","Ouups, došlo je do neke greške!","error")}))},p=function(t){var e=t.data;d.value=!1,Object.assign(n,e.data),Object.assign(s.per_page,n.per_page),Object.assign(i,e.data.data)},h=function(){c.value=!c.value};return(0,r.bv)((function(){u()})),function(e,p){return(0,r.wg)(),(0,r.iD)("div",Tt,[(0,r._)("div",Nt,[(0,r._)("div",Jt,[(0,r._)("div",Zt,[(0,r._)("div",Rt,[(0,r._)("h3",{class:"card-title",textContent:(0,o.zw)("".concat(t.rodent.data.name," - Tabela Protoka"))},null,8,Vt)]),(0,r._)("div",Yt,[(0,r._)("div",Kt,[(0,r._)("div",Wt,[$t,(0,r._)("div",Xt,[(0,r.wy)((0,r._)("input",{type:"text",class:"form-control","onUpdate:modelValue":p[0]||(p[0]=function(t){return(0,a.SU)(s).per_page=t}),name:"per_page",size:"3","aria-label":"Items per page",onKeyup:p[1]||(p[1]=(0,l.D2)((function(){return(0,a.SU)(u)&&(0,a.SU)(u).apply(void 0,arguments)}),["enter"])),onBlur:p[2]||(p[2]=function(){return(0,a.SU)(u)&&(0,a.SU)(u).apply(void 0,arguments)})},null,544),[[l.nr,(0,a.SU)(s).per_page]])]),Qt]),(0,r._)("div",te,[(0,r._)("a",{href:"#",onClick:p[3]||(p[3]=(0,l.iM)((function(){return(0,a.SU)(h)&&(0,a.SU)(h).apply(void 0,arguments)}),["prevent"])),class:"btn btn-outline-danger"},ee)])])]),(0,a.SU)(c)?((0,r.wg)(),(0,r.j4)((0,a.SU)(Gt),{key:0,station:t.rodent.data},null,8,["station"])):(0,r.kq)("",!0),(0,r._)("div",ne,[(0,r._)("table",re,[oe,(0,a.SU)(i).length?((0,r.wg)(),(0,r.iD)("tbody",ae,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)((0,a.SU)(i),(function(e,n){return(0,r.wg)(),(0,r.iD)("tr",{key:n},[le,(0,r._)("td",{textContent:(0,o.zw)(e.id)},null,8,ie),(0,r._)("td",se,[(0,r._)("div",{class:"text-truncate",textContent:(0,o.zw)(t.rodent.data.name)},null,8,ce)]),(0,r._)("td",{textContent:(0,o.zw)(e.flow)},null,8,de),(0,r._)("td",{textContent:(0,o.zw)(e.shift)},null,8,ue),(0,r._)("td",{textContent:(0,o.zw)(e.date_time)},null,8,pe)])})),128))])):((0,r.wg)(),(0,r.iD)("tbody",he,[(0,r._)("tr",null,[(0,r._)("td",fe,[(0,a.SU)(d)?((0,r.wg)(),(0,r.iD)("div",me,ve)):((0,r.wg)(),(0,r.iD)("div",ge,we))])])]))])]),(0,r.Wm)((0,a.SU)(St),{dataSet:(0,a.SU)(n),form:(0,a.SU)(s),class:"uk-margin-small uk-margin-small-top",onPage_changed:(0,a.SU)(u)},null,8,["dataSet","form","onPage_changed"])])])])])}}};n(9038),n(9680);var _e={class:"modal modal-blur fade show",style:{display:"block"},"aria-modal":"true"},be={class:"modal-dialog modal-fullscreen modal-dialog-centered",role:"document"},xe={class:"modal-content"},ke={class:"modal-header left-close"},Ce=["textContent"],Se={class:"modal-body"},Ue={class:"d-flex"},je={class:"ms-auto"},De=[(0,r._)("option",{class:"dropdown-item",value:1},"Danas",-1),(0,r._)("option",{class:"dropdown-item",value:3},"Poslednja 3 dana",-1),(0,r._)("option",{class:"dropdown-item",value:7},"Poslednjih 7 dana",-1)],Me={class:"row"},Ae={class:"col-md-8",id:"chart"},Oe={key:0,class:"empty w-100 chart-wrapper"},ze=[(0,r._)("div",{class:"spinner-border icon-lg text-green"},null,-1)],Pe={key:1,id:"chart-timeline"},Ee={class:"col-md-4",id:"bar_chart"},Le={key:0,class:"empty w-100 chart-wrapper"},qe=[(0,r._)("div",{class:"spinner-border icon-lg text-green"},null,-1)],Be={key:1,id:"bar-chart"};const He={__name:"ExtendedChart",props:{rodent:Object},setup:function(t){var e=t,n=(0,a.iH)(!0),i=((0,a.qj)({start:new Date((new Date).setDate((new Date).getDate()-7)),end:new Date}),(0,a.qj)({type:"string",mode:"date"}),(0,a.qj)([{data:[]}])),s=(0,a.qj)([{data:[]}]),c=(0,a.qj)({chart:{type:"bar"},plotOptions:{bar:{horizontal:!1,columnWidth:"55%",endingShape:"rounded",borderRadius:5,dataLabels:{position:"top"}}},dataLabels:{enabled:!0,enabledOnSeries:[3],offsetY:-20,style:{fontSize:"12px",colors:["#304758"]},background:{enabled:!0,foreColor:"#fff",padding:6,borderRadius:2,borderWidth:1,opacity:.3,shadow:!0,dropShadow:{enabled:!0,top:1,left:1,blur:1,color:"#fff",opacity:.45}},formatter:function(t){return"".concat(t.toFixed(1)," m3")}},stroke:{show:!0,width:[2,2,2,3],curve:"smooth",colors:["transparent","transparent","transparent","#cb2027"]},yaxis:{title:{text:"Iskopano u m3"},labels:{formatter:function(t){return t.toFixed(0)}}},fill:{opacity:1},tooltip:{shared:!0,intersect:!1,y:{formatter:function(t){return t.toFixed(1)+" m3"}}},title:{text:""},legend:{show:!0}}),d=(0,a.qj)({chart:{id:"area-datetime",type:"area",height:350,zoom:{autoScaleYaxis:!0}},dataLabels:{enabled:!1},title:{text:"Protok Bagera u m3/h",align:"left",style:{color:"rgba(255, 255, 255, 0.7)"}},markers:{size:3,style:"hollow"},xaxis:{type:"datetime",min:new Date((new Date).setDate((new Date).getDate()-1)).getTime(),max:(new Date).getTime(),tickAmount:6,labels:{datetimeUTC:!1}},tooltip:{x:{format:"dd-MMM-yyyy H:m"},y:{formatter:function(t){return t+" m3"}}},fill:{opacity:.16,type:"solid"},stroke:{width:2,lineCap:"round",curve:"smooth"}}),u=(0,a.iH)(7),p=[1,3,7],h=(0,a.qj)({station:e.rodent.data.id,days:u});(0,r.bv)((function(){var t;t=e.rodent.data.id,axios.get("/chart/station/".concat(t),h).then(f).catch((function(t){console.dir(t),pt().fire("","Ouups, došlo je do neke greške!","error")}))}));var f=function(t){var e=t.data;n.value=!1,Object.assign(i[0].data,e.data),Object.assign(s,e.series)},m=function(){new Date((new Date).setDate((new Date).getDate()-1)).getTime();p.includes(u)&&new Date((new Date).setDate((new Date).getDate()-u)).getTime()};return function(e,p){return(0,r.wg)(),(0,r.iD)("div",_e,[(0,r._)("div",be,[(0,r._)("div",xe,[(0,r._)("div",ke,[(0,r._)("h5",{class:"modal-title",textContent:(0,o.zw)(t.rodent.name)},null,8,Ce),(0,r._)("button",{type:"button",onClick:p[0]||(p[0]=function(t){return e.$emit("close_graph")}),class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]),(0,r._)("div",Se,[(0,r._)("div",Ue,[(0,r._)("div",je,[(0,r.wy)((0,r._)("select",{class:"form-select",onChange:p[1]||(p[1]=function(){return(0,a.SU)(m)&&(0,a.SU)(m).apply(void 0,arguments)}),"onUpdate:modelValue":p[2]||(p[2]=function(t){return(0,a.dq)(u)?u.value=t:u=t})},De,544),[[l.bM,(0,a.SU)(u)]])])]),(0,r._)("div",Me,[(0,r._)("div",Ae,[(0,a.SU)(n)?((0,r.wg)(),(0,r.iD)("div",Oe,ze)):((0,r.wg)(),(0,r.iD)("div",Pe,[(0,r.Wm)((0,a.SU)(y()),{type:"area",height:"350",ref:"chart",options:(0,a.SU)(d),series:(0,a.SU)(i)},null,8,["options","series"])]))]),(0,r._)("div",Ee,[(0,a.SU)(n)?((0,r.wg)(),(0,r.iD)("div",Le,qe)):((0,r.wg)(),(0,r.iD)("div",Be,[(0,r.Wm)((0,a.SU)(y()),{type:"bar",height:"350",ref:"bar_chart",options:(0,a.SU)(c),series:(0,a.SU)(s)},null,8,["options","series"])]))])]),(0,r.Wm)((0,a.SU)(ye),{rodent:t.rodent},null,8,["rodent"])])])])])}}};var Ie=n(1002);function Fe(t){return Fe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fe(t)}function Ge(){Ge=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",l=r.toStringTag||"@@toStringTag";function i(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{i({},"")}catch(t){i=function(t,e,n){return t[e]=n}}function s(t,e,n,r){var o=e&&e.prototype instanceof u?e:u,a=Object.create(o.prototype),l=new k(r||[]);return a._invoke=function(t,e,n){var r="suspendedStart";return function(o,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw a;return S()}for(n.method=o,n.arg=a;;){var l=n.delegate;if(l){var i=_(l,n);if(i){if(i===d)continue;return i}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=c(t,e,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===d)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}(t,n,l),a}function c(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var d={};function u(){}function p(){}function h(){}var f={};i(f,o,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(C([])));v&&v!==e&&n.call(v,o)&&(f=v);var g=h.prototype=u.prototype=Object.create(f);function w(t){["next","throw","return"].forEach((function(e){i(t,e,(function(t){return this._invoke(e,t)}))}))}function y(t,e){function r(o,a,l,i){var s=c(t[o],t,a);if("throw"!==s.type){var d=s.arg,u=d.value;return u&&"object"==Fe(u)&&n.call(u,"__await")?e.resolve(u.__await).then((function(t){r("next",t,l,i)}),(function(t){r("throw",t,l,i)})):e.resolve(u).then((function(t){d.value=t,l(d)}),(function(t){return r("throw",t,l,i)}))}i(s.arg)}var o;this._invoke=function(t,n){function a(){return new e((function(e,o){r(t,n,e,o)}))}return o=o?o.then(a,a):a()}}function _(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,_(t,e),"throw"===e.method))return d;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var r=c(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,d;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,d):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,d)}function b(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function x(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(b,this),this.reset(!0)}function C(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,a=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return p.prototype=h,i(g,"constructor",h),i(h,"constructor",p),p.displayName=i(h,l,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,h):(t.__proto__=h,i(t,l,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},w(y.prototype),i(y.prototype,a,(function(){return this})),t.AsyncIterator=y,t.async=function(e,n,r,o,a){void 0===a&&(a=Promise);var l=new y(s(e,n,r,o),a);return t.isGeneratorFunction(n)?l:l.next().then((function(t){return t.done?t.value:l.next()}))},w(g),i(g,l,"Generator"),i(g,o,(function(){return this})),i(g,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=C,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return l.type="throw",l.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],l=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var i=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(i&&s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(i){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var l=a?a.completion:{};return l.type=t,l.arg=e,a?(this.method="next",this.next=a.finallyLoc,d):this.complete(l)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),x(n),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;x(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:C(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},t}function Te(t,e,n,r,o,a,l){try{var i=t[a](l),s=i.value}catch(t){return void n(t)}i.done?e(s):Promise.resolve(s).then(r,o)}function Ne(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var a=t.apply(e,n);function l(t){Te(a,r,o,l,i,"next",t)}function i(t){Te(a,r,o,l,i,"throw",t)}l(void 0)}))}}var Je={class:"container-xl panel-header"},Ze={class:"page-header d-print-none"},Re={class:"row g-2 align-items-center"},Ve=(0,r._)("div",{class:"col"},[(0,r._)("h2",{class:"page-title"},"Kapaciteti Bagera - Panel")],-1),Ye={class:"col-12 col-md-auto ms-auto d-print-none"},Ke={class:"btn-list btn-group"},We={key:0,class:"btn btn-outline-danger disabled",type:"button"},$e=[(0,r._)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon text-danger","aria-hidden":"true",role:"img",width:"24",height:"24",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 36 36"},[(0,r._)("circle",{cx:"18",cy:"29.54",r:"3",fill:"currentColor",class:"clr-i-solid clr-i-solid-path-1"}),(0,r._)("path",{fill:"currentColor",d:"m29.18 17.71l.11-.17a1.51 1.51 0 0 0-.47-2.1A20.57 20.57 0 0 0 18 12.37c-.56 0-1.11 0-1.65.07l3.21 3.21a17.41 17.41 0 0 1 7.6 2.52a1.49 1.49 0 0 0 2.02-.46Z",class:"clr-i-solid clr-i-solid-path-2"}),(0,r._)("path",{fill:"currentColor",d:"M32.76 9.38a27.9 27.9 0 0 0-22.58-3.11l2.63 2.63a24.68 24.68 0 0 1 18.29 3.22a1.49 1.49 0 0 0 2-.46l.11-.17a1.51 1.51 0 0 0-.45-2.11Z",class:"clr-i-solid clr-i-solid-path-3"}),(0,r._)("path",{fill:"currentColor",d:"m3 4.75l3.1 3.1a27.28 27.28 0 0 0-2.92 1.57a1.51 1.51 0 0 0-.48 2.11l.11.17a1.49 1.49 0 0 0 2 .46a24.69 24.69 0 0 1 3.67-1.9l3.14 3.14a20.63 20.63 0 0 0-4.53 2.09a1.51 1.51 0 0 0-.46 2.1l.11.17a1.49 1.49 0 0 0 2 .46A17.46 17.46 0 0 1 14.25 16l3.6 3.6a13.39 13.39 0 0 0-6.79 1.93a1.5 1.5 0 0 0-.46 2.09l.1.16a1.52 1.52 0 0 0 2.06.44a10.2 10.2 0 0 1 9-.7L29 30.75l1.41-1.41l-26-26Z",class:"clr-i-solid clr-i-solid-path-4"}),(0,r._)("path",{fill:"none",d:"M0 0h36v36H0z"})],-1),(0,r.Uk)(" Modbus Greška ")],Xe=[(0,r.uE)('<svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-arrows-minimize" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><polyline points="5 9 9 9 9 5"></polyline><line x1="3" y1="3" x2="9" y2="9"></line><polyline points="5 15 9 15 9 19"></polyline><line x1="3" y1="21" x2="9" y2="15"></line><polyline points="19 9 15 9 15 5"></polyline><line x1="15" y1="9" x2="21" y2="3"></line><polyline points="19 15 15 15 15 19"></polyline><line x1="15" y1="15" x2="21" y2="21"></line></svg> Skupi prikaz ',2)],Qe=[(0,r.uE)('<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icon-tabler-arrows-maximize"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><polyline points="16 4 20 4 20 8"></polyline><line x1="14" y1="10" x2="20" y2="4"></line><polyline points="8 20 4 20 4 16"></polyline><line x1="4" y1="20" x2="10" y2="14"></line><polyline points="16 20 20 20 20 16"></polyline><line x1="14" y1="14" x2="20" y2="20"></line><polyline points="8 4 4 4 4 8"></polyline><line x1="4" y1="4" x2="10" y2="10"></line></svg> Proširi prikaz ',2)],tn={class:"page-body"},en={class:"container-xxl"},nn={class:"row row-cards"};const rn={__name:"Index",props:{rodents:Object,panelFlows:Object,graphData:Object,currentFlows:Object,statuses:Object},setup:function(t){var e=t,n=(0,a.iH)(null),i=(0,a.iH)(null),s=(0,a.iH)(),c={},d={},u=(0,a.iH)(!0),p=function(t){var e=t.station;n.value=e},h=function(t){var e=t.station;i.value=e},f=(0,r.Fl)((function(){return screen.height>=864})),m=(0,a.qj)({data:{graphData:e.graphData,panelFlows:e.panelFlows}}),v=(0,a.qj)({fullscreen:!1,teleport:!0});function w(){return y.apply(this,arguments)}function y(){return(y=Ne(Ge().mark((function t(){return Ge().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ie.hi.toggle(s.value.querySelector(".fullscreen-wrapper"),{teleport:v.teleport,callback:function(t){}});case 2:v.fullscreen=Ie.hi.isFullscreen;case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return(0,r.JJ)("update_chart",m),function(e,v){return(0,r.wg)(),(0,r.iD)("div",{ref_key:"root",ref:s,class:(0,o.C_)(["fullscreen-wrapper",{"page page-center":(0,a.SU)(Ie.hi)}])},[(0,r._)("div",Je,[(0,r._)("div",Ze,[(0,r._)("div",Re,[Ve,(0,r._)("div",Ye,[(0,r._)("div",Ke,[(0,a.SU)(true)||(0,a.SU)(u)?(0,r.kq)("",!0):((0,r.wg)(),(0,r.iD)("button",We,$e)),(0,a.SU)(Ie.hi)&&(0,a.SU)(f)?((0,r.wg)(),(0,r.iD)("button",{key:1,type:"button",class:"btn expand-screen",onClick:w},Xe)):(0,r.kq)("",!0),!(0,a.SU)(Ie.hi)&&(0,a.SU)(f)?((0,r.wg)(),(0,r.iD)("button",{key:2,type:"button",class:"btn expand-screen",onClick:w},Qe)):(0,r.kq)("",!0)])])])])]),(0,r._)("div",tn,[(0,r._)("div",en,[(0,r._)("span",nn,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(t.rodents,(function(t,e){return(0,r.wg)(),(0,r.j4)((0,a.SU)(Y),{key:e,update_chart:(0,a.SU)(m),resource:t,current_flow:(0,a.SU)(c)[t.id]?(0,a.SU)(c)[t.id]:0,onShow_graph:(0,a.SU)(p),onShow_details:(0,a.SU)(h),statuses:(0,a.SU)(d)[t.id]?(0,a.SU)(d)[t.id]:[!1,!1,!1,!1,!1,!1,!1,!1],loading:(0,a.SU)(null)===t.id},null,8,["update_chart","resource","current_flow","onShow_graph","onShow_details","statuses","loading"])})),128))])])]),(0,a.SU)(n)?((0,r.wg)(),(0,r.j4)((0,a.SU)(He),{key:0,rodent:t.rodents[(0,a.SU)(n)],onClose_graph:v[0]||(v[0]=function(t){return(0,a.dq)(n)?n.value=null:n=null})},null,8,["rodent"])):(0,r.kq)("",!0),(0,a.SU)(i)?((0,r.wg)(),(0,r.j4)((0,a.SU)(dt),{key:1,rodent:t.rodents[(0,a.SU)(i)].data,onClose_details:v[1]||(v[1]=function(t){return(0,a.dq)(i)?i.value=null:i=null})},null,8,["rodent"])):(0,r.kq)("",!0),(0,r.Wm)(l.uT,{name:"bounce"},{default:(0,r.w5)((function(){return[!(0,a.SU)(true)&&(0,a.SU)(u)?((0,r.wg)(),(0,r.j4)((0,a.SU)(g),{key:0,onClose_modbus:v[2]||(v[2]=function(t){return(0,a.dq)(u)?u.value=null:u=null})})):(0,r.kq)("",!0)]})),_:1})],2)}}};var on=n(3379),an=n.n(on),ln=n(6277),sn={insert:"head",singleton:!1};an()(ln.Z,sn);ln.Z.locals;const cn=rn}}]);
//# sourceMappingURL=180.js.map?id=937dcdef824768ed